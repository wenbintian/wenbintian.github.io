webpackJsonp([1],{MPzD:function(e,t){},MtS3:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},n,!1,function(e){a("eDN1")},null,null).exports,l=a("/ocq"),o=a("mvHQ"),c=a.n(o),p=a("woOf"),r=a.n(p),d={name:"Luck",data:function(){return{peopleList:[],allLength:0,activeList:[],powLength:1,mainBoxHeight:"auto",addItem:{pid:"",name:""}}},filters:{filterButtonType:function(e){var t="";switch(e.typeVal){case"3":t="info";break;case"1":t="primary";break;default:t="default"}return t}},methods:{deleteItemEvn:function(e,t,a){var i=this;this.$confirm("是否删除名称为："+e.name+"的信息？").then(function(){a.children.splice(t,1),i.$message.success("删除成功！"),i.dealPeopleNum()})},nameClickEvn:function(e){switch(e.typeVal){case"3":e.typeVal="1";break;default:e.typeVal="3"}this.dealPeopleNum()},dealPeopleNum:function(){var e=this,t=0;this.activeList=[],this.sourceList=[];for(var a=0,i=this.peopleList.length;a<i;a++){var n=this.peopleList[a].children;if(n&&n.length)for(var s=0,l=n.length;s<l;s++){var o=r()({},n[s],{beginFlag:!1,selected:!1,sourceId:999999*Math.random(),isBeginFlag:!1});"1"==o.typeVal&&this.sourceList.push(o),t++}}this.allLength=t,this.powLength=Math.ceil(Math.pow(this.sourceList.length,.5));for(var p=[];0<this.sourceList.length;){var d=Math.round(Math.random()*(this.sourceList.length-1));this.activeList.push(r()({},this.sourceList[d])),p.push(this.activeList.length-1),this.sourceList.splice(d,1)}this.activeTimer&&clearInterval(this.activeTimer),this.activeTimer=setInterval(function(){if(p.length){var t=Math.round(Math.random()*(p.length-1));e.activeList[p[t]].isBeginFlag=!0,p.splice(t,1)}else clearInterval(e.activeTimer)},100),localStorage.setItem("LuckSourceArr",c()(this.peopleList))},mainItemEvn:function(e){e.isBeginFlag&&(e.beginFlag=!0,setTimeout(function(){e.beginFlag=!1,e.selected=!0},1200))},addItemEvn:function(){if(this.addItem.name){var e=!1;this.addItem.pid=this.addItem.pid||"##";for(var t=0,a=this.peopleList.length;t<a;t++){var i=this.peopleList[t];if(i.id==this.addItem.pid){e=!0,i.children.push(r()({typeVal:"1",id:(new Date).getTime()},this.addItem));break}}e||this.peopleList.push({id:"##",name:"其他",children:[{id:(new Date).getTime(),name:this.addItem.name,typeVal:"1"}]}),this.$message.success("添加成功！"),this.dealPeopleNum()}else this.$message.warning("添加的名字不能为空！")}},mounted:function(){var e=localStorage.getItem("LuckSourceArr");e&&(e=JSON.parse(e)),this.peopleList=e||[{id:"1",name:"设计-男",typeVal:"1",children:[{id:"1_1",name:"陈永杰",typeVal:"3"},{id:"1_2",name:"姚鑫",typeVal:"1"},{id:"1_3",name:"陈杰",typeVal:"1"},{id:"1_4",name:"易剑芸",typeVal:"1"},{id:"1_5",name:"叶志勇",typeVal:"1"},{id:"1_6",name:"林志华",typeVal:"1"}]},{id:"2",name:"设计-女",typeVal:"1",children:[{id:"2_1",name:"张琪媛",typeVal:"1"},{id:"2_2",name:"易艳君",typeVal:"1"},{id:"2_3",name:"陈丽丽",typeVal:"1"}]},{id:"3",name:"前端-男",typeVal:"1",children:[{id:"3_1",name:"田文滨",typeVal:"1"},{id:"3_2",name:"骆至坤",typeVal:"1"},{id:"3_3",name:"黄剑昆",typeVal:"1"},{id:"3_4",name:"刘宏",typeVal:"1"},{id:"3_5",name:"张弛",typeVal:"1"}]},{id:"4",name:"前端-女",typeVal:"1",children:[{id:"4_1",name:"刘洪南",typeVal:"1"},{id:"4_2",name:"李凌燕",typeVal:"1"},{id:"4_3",name:"陈梅秀",typeVal:"1"},{id:"4_4",name:"李曼",typeVal:"1"}]}],this.dealPeopleNum();var t=this;this.mainBoxHeight=.9*t.$refs.container.getBoundingClientRect().height+"px",window.onresize=function(){t.mainBoxHeight=.9*t.$refs.container.getBoundingClientRect().height+"px"}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"container",staticClass:"container"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"people_box"},[a("ul",[e._l(e.peopleList,function(t){return a("li",{key:t.id,staticClass:"people_box_item"},[a("div",{staticClass:"people_box_tt"},[e._v(e._s(t.name))]),e._v(" "),t.children&&t.children.length?a("div",{staticClass:"people_box_ct"},[a("ul",e._l(t.children,function(i,n){return a("li",{key:i.id,staticClass:"people_name"},[a("el-button",{staticClass:"people_btn",attrs:{type:e._f("filterButtonType")(i),size:"normal"},on:{click:function(t){e.nameClickEvn(i)}}},[e._v(e._s(i.name)+"\n              "),a("i",{staticClass:"el-tag__close el-icon-close people_close",on:{click:function(a){a.stopPropagation(),e.deleteItemEvn(i,n,t)}}})])],1)}),0)]):e._e()])}),e._v(" "),a("li",{staticClass:"people_box_item"},[a("div",{staticClass:"people_box_ct people_box_all"},[a("ul",[a("li",{staticClass:"people_name"},[e._v("总共 "),a("span",{staticClass:"people_name--all"},[e._v(e._s(e.allLength))]),e._v(" 人，已选 "),a("span",{staticClass:"people_name--all"},[e._v(e._s(e.activeList.length))]),e._v(" 人")])])])])],2)]),e._v(" "),a("div",{staticClass:"btn_box"},[a("el-select",{staticClass:"add_pid",attrs:{clearable:"",placeholder:"请选中分类"},model:{value:e.addItem.pid,callback:function(t){e.$set(e.addItem,"pid",t)},expression:"addItem.pid"}},e._l(e.peopleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-input",{staticClass:"add_name",attrs:{placeholder:"请输入名字"},model:{value:e.addItem.name,callback:function(t){e.$set(e.addItem,"name",t)},expression:"addItem.name"}}),e._v(" "),a("el-button",{staticClass:"add_btn",attrs:{title:"临时添加人员信息"},on:{click:e.addItemEvn}},[e._v("添加")])],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"main_box",style:{height:e.mainBoxHeight}},[a("ul",e._l(e.activeList,function(t,i){return a("li",{key:t.sourceId,staticClass:"main_box_item",style:{width:100/e.powLength+"%",height:100/e.powLength+"%",left:t.isBeginFlag?100/e.powLength*(((i+1)%e.powLength||e.powLength)-1)+"%":"0",top:t.isBeginFlag?100/e.powLength*(Math.ceil((i+1)/e.powLength)-1)+"%":"0"}},[a("div",{staticClass:"main_box_item--inner",class:{rotate_class:t.beginFlag,bg_shadow:t.isBeginFlag,selected:t.selected},on:{click:function(a){e.mainItemEvn(t)}}},[t.selected?a("span",{staticClass:"el_icon el-icon-circle-check select_name"},[a("span",[e._v(e._s(t.name))])]):a("span",{staticClass:"el_icon el-icon-star-on"},[a("span",[e._v("请选择")])])])])}),0)])])],1)],1)},staticRenderFns:[]};var m=a("VU/8")(d,h,!1,function(e){a("MtS3")},"data-v-547945d4",null).exports;i.default.use(l.a);var u=new l.a({routes:[{path:"/",name:"Luck",component:m}]}),_=a("zL8q"),v=a.n(_);a("tvR6"),a("MPzD");i.default.config.productionTip=!1,i.default.use(v.a),new i.default({el:"#app",router:u,components:{App:s},template:"<App/>"})},eDN1:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.686ec78b07bfa1b47e0b.js.map